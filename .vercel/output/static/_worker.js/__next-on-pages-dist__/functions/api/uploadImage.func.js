import{__getNamedExports as j}from"../../../__next-on-pages-dist__/webpack/fc2d35c78fefc1db3444008f19228387.js";import{__getNamedExports as L}from"../../../__next-on-pages-dist__/webpack/43f76069387da34d9759fd763b0079e5.js";import{__getNamedExports as U}from"../../../__next-on-pages-dist__/webpack/cfe30fc2aa3258c87f4442eb84480cb6.js";import{__getNamedExports as B}from"../../../__next-on-pages-dist__/webpack/2016.js";import{__getNamedExports as D}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var f=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/uploadImage"),n=j(f,f,f),K=n.__chunk_7226,G=n.__chunk_4896,H=n.__chunk_9945,q=n.__chunk_7135,X=n.__chunk_8598,Z=n.__chunk_4450,W=n.__chunk_6937,J=n.__chunk_7776,z=n.__chunk_4116,Q=n.__chunk_2368,V=n.__chunk_3221,Y=n.__chunk_3689,__=n.__chunk_1494,n_=n.__chunk_6563,e_=n.__chunk_212,t_=n.__chunk_4794,c_=n.__chunk_387,o_=n.__chunk_7114,u_=n.__chunk_8881,r_=n.__chunk_8732,a_=n.__chunk_5863,s_=n.__chunk_8989,h_=n.__chunk_8672,k_=n.__chunk_9438,i_=n.__chunk_2600,p_=n.__chunk_7271,d_=n.__chunk_6526,g_=n.__chunk_4244,f_=n.__chunk_4182,l_=n.__chunk_1900,x_=n.__chunk_3297,m_=n.__chunk_4967,y_=n.__chunk_7061,E_=n.__chunk_2411,b_=n.__chunk_4395,v_=n.__chunk_5449,N_=n.__chunk_9517,P_=n.__chunk_4497,w_=n.__chunk_893,R_=n.__chunk_1168,O_=n.__chunk_2378,A_=n.__chunk_6186,I_=n.__chunk_1118,S_=n.__chunk_8555,C_=n.__chunk_8102,M_=n.__chunk_5131,T_=n.__chunk_4223,s=L(f,f,f),$_=s.__chunk_6774,F_=s.__chunk_7809,j_=s.__chunk_7584,L_=s.__chunk_8216,U_=s.__chunk_4275,B_=s.__chunk_6438,D_=s.__chunk_6558,K_=s.__chunk_5936,G_=s.__chunk_4851,H_=s.__chunk_1725,q_=s.__chunk_2035,X_=s.__chunk_7785,Z_=s.__chunk_2144,W_=s.__chunk_7988,J_=s.__chunk_7212,z_=s.__chunk_9504,Q_=s.__chunk_7484,V_=s.__chunk_3444,Y_=s.__chunk_2834,_n=s.__chunk_8050,nn=s.__chunk_5466,en=s.__chunk_5503,tn=s.__chunk_6195,cn=s.__chunk_2067,a=U(f,f,f),on=a.__chunk_8278,un=a.__chunk_2745,rn=a.__chunk_1797,an=a.__chunk_2036,sn=a.__chunk_966,hn=a.__chunk_7502,kn=a.__chunk_9386,pn=a.__chunk_4606,dn=a.__chunk_7899,gn=a.__chunk_2200,fn=a.__chunk_3578,ln=a.__chunk_7756,xn=a.__chunk_9135,mn=a.__chunk_1622,yn=a.__chunk_8055,En=a.__chunk_7795,bn=a.__chunk_1430,vn=a.__chunk_6329,Nn=a.__chunk_1316,Pn=a.__chunk_9532,wn=a.__chunk_6840,Rn=a.__chunk_4464,On=a.__chunk_9726,An=a.__chunk_261,In=a.__chunk_6225,Sn=a.__chunk_678,Cn=B(f,f,f),Mn=Cn.__chunk_2016,C=D(f,f,f),Tn=C.__NEXT_FONT_MANIFEST,$n=C.__REACT_LOADABLE_MANIFEST,Fn=C.__BUILD_MANIFEST,Gn=((w,O,jn)=>(O._ENTRIES={},w.__BUILD_MANIFEST=Fn,w.__REACT_LOADABLE_MANIFEST=$n,w.__NEXT_FONT_MANIFEST=Tn,w.__PRERENDER_MANIFEST='{"version":4,"routes":{},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"610a7ecd2df716b353bc1accb95b0f8e","previewModeSigningKey":"43725094f081d52f19f608cd637d5b8e55e6bc41e42f6643f835b4d7d715172b","previewModeEncryptionKey":"105f06a2791ae126aa6cef066dd091b866be14007071d046f8fd076b4373f3b2"}}',(()=>{"use strict";var b={},N={};function c(e){var r=N[e];if(r!==void 0)return r.exports;var t=N[e]={exports:{}},k=!0;try{b[e](t,t.exports,c),k=!1}finally{k&&delete N[e]}return t.exports}c.m=b,(()=>{var e=[];c.O=(r,t,k,i)=>{if(t){i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[t,k,i];return}for(var p=1/0,h=0;h<e.length;h++){for(var[t,k,i]=e[h],l=!0,m=0;m<t.length;m++)(i&!1||p>=i)&&Object.keys(c.O).every(y=>c.O[y](t[m]))?t.splice(m--,1):(l=!1,i<p&&(p=i));if(l){e.splice(h--,1);var d=k();d!==void 0&&(r=d)}}return r}})(),c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},(()=>{var e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r;c.t=function(t,k){if(k&1&&(t=this(t)),k&8||typeof t=="object"&&t&&(k&4&&t.__esModule||k&16&&typeof t.then=="function"))return t;var i=Object.create(null);c.r(i);var h={};r=r||[null,e({}),e([]),e(e)];for(var p=k&2&&t;typeof p=="object"&&!~r.indexOf(p);p=e(p))Object.getOwnPropertyNames(p).forEach(l=>h[l]=()=>t[l]);return h.default=()=>t,c.d(i,h),i}})(),c.d=(e,r)=>{for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.e=()=>Promise.resolve(),c.g=function(){if(typeof O=="object")return O;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),c.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={993:0};c.O.j=k=>e[k]===0;var r=(k,i)=>{var[h,p,l]=i,m,d,_=0;if(h.some(o=>e[o]!==0)){for(m in p)c.o(p,m)&&(c.m[m]=p[m]);if(l)var g=l(c)}for(k&&k(i);_<h.length;_++)d=h[_],c.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return c.O(g)},t=w.webpackChunk_N_E=w.webpackChunk_N_E||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})()})(),(w.webpackChunk_N_E=w.webpackChunk_N_E||[]).push([[593],{2067:cn,6195:tn,6340:(b,N,c)=>{"use strict";c.r(N),c.d(N,{ComponentMod:()=>A,default:()=>T});var e={};c.r(e),c.d(e,{POST:()=>g,runtime:()=>_});var r={};c.r(r),c.d(r,{headerHooks:()=>P,originalPathname:()=>E,patchFetch:()=>v,requestAsyncStorage:()=>u,routeModule:()=>o,serverHooks:()=>x,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>R});var t=c(8055),k=c(1430),i=c(5936),h=c(6558),p=c(2016),l=c(3221),m=c(4223),d=c(6195).Buffer;let _="edge";async function g($){let I=(await $.formData()).get("file");if(!I)return p.Z.json({error:"No file uploaded"},{status:400});let F=await I.arrayBuffer(),M=`${Date.now()}-${I.name}`;try{await m.ul.send(new l.U({Bucket:m.A_,Key:M,Body:d.from(F),ContentType:I.type}));let S=`https://${process.env.R2_CUSTOM_DOMAIN}/${M}`;return p.Z.json({url:S})}catch(S){return console.error("Upload error:",S),p.Z.json({error:"Upload failed"},{status:500})}}let o=new k.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/uploadImage/route",pathname:"/api/uploadImage",filename:"route",bundlePath:"app/api/uploadImage/route"},resolvedPagePath:"/Users/kristen/Documents/code/personal/ai-generative-fill/app/api/uploadImage/route.ts",nextConfigOutput:"",userland:e}),{requestAsyncStorage:u,staticGenerationAsyncStorage:y,serverHooks:x,headerHooks:P,staticGenerationBailout:R}=o,E="/api/uploadImage/route";function v(){return(0,h.XH)({serverHooks:x,staticGenerationAsyncStorage:y})}let A=r,T=t.a.wrap(o)},4223:T_,5131:M_,8102:C_,8555:S_,1118:I_,6186:A_,2378:O_,1168:R_,893:w_,4497:P_,9517:N_,5449:v_,4395:b_,2411:E_,7061:y_,4967:m_,3297:x_,1900:l_,4182:f_,4244:g_,6526:d_,7271:p_,2600:i_,9438:k_,8672:h_,8989:s_,5863:a_,8732:r_,8881:u_,7114:o_,387:c_,4794:t_,212:e_,6563:n_,1494:__,678:Sn,5503:en,6225:In,261:An,9726:On,4464:Rn,6840:wn,9532:Pn,5466:nn,8050:_n,2834:Y_,3444:V_,7484:Q_,9504:z_,7212:J_,7988:W_,2144:Z_,7785:X_,1316:Nn,2035:q_,1725:H_,4851:G_,6329:vn,5936:K_,1430:bn,7795:En,6558:D_,6438:B_,4275:U_,8055:yn,2016:Mn,1622:mn,9135:xn,7756:ln,3578:fn,2200:gn,7899:dn,4606:pn,9386:kn,7502:hn,966:sn,2036:an,1797:rn,2745:un,8278:on,3689:Y,3221:V,2368:Q,4116:z,7776:J,6937:W,4450:Z,8598:X,7135:q,9945:H,4896:G,8216:L_,7584:j_,7809:F_,6774:$_,7226:K},b=>{var N=b(b.s=6340);(O._ENTRIES=typeof O._ENTRIES>"u"?{}:O._ENTRIES)["middleware_app/api/uploadImage/route"]=N}]),function(){let b={exports:{},loaded:!1};return function(c,e){var r=Object.defineProperty,t=_=>r(_,"__esModule",{value:!0}),k=(_,g)=>{t(_);for(var o in g)r(_,o,{get:g[o],enumerable:!0})};k(e,{default:()=>p});function i(_){let g={};return _&&_.forEach((o,u)=>{g[u]=o,u.toLowerCase()==="set-cookie"&&(g[u]=h(o))}),g}function h(_){let g=[],o=0,u,y,x,P,R;function E(){for(;o<_.length&&/\s/.test(_.charAt(o));)o+=1;return o<_.length}function v(){return y=_.charAt(o),y!=="="&&y!==";"&&y!==","}for(;o<_.length;){for(u=o,R=!1;E();)if(y=_.charAt(o),y===","){for(x=o,o+=1,E(),P=o;o<_.length&&v();)o+=1;o<_.length&&_.charAt(o)==="="?(R=!0,o=P,g.push(_.substring(u,x)),u=o):o=x+1}else o+=1;(!R||o>=_.length)&&g.push(_.substring(u,_.length))}return g}function p(_){let g=_.staticRoutes.map(u=>({regexp:new RegExp(u.namedRegex),page:u.page})),o=_.dynamicRoutes?.map(u=>({regexp:new RegExp(u.namedRegex),page:u.page}))||[];return async function(u,y){let x=new URL(u.url).pathname,P={};if(_.nextConfig?.basePath&&x.startsWith(_.nextConfig.basePath)&&(x=x.replace(_.nextConfig.basePath,"")||"/"),_.nextConfig?.i18n)for(let E of _.nextConfig.i18n.locales){let v=new RegExp(`^/${E}($|/)`,"i");if(x.match(v)){x=x.replace(v,"/")||"/";break}}for(let E of g)if(E.regexp.exec(x)){P.name=E.page;break}if(!P.name){let E=m(x);for(let v of o||[]){if(E&&!m(v.page))continue;let A=v.regexp.exec(x);if(A){P={name:v.page,params:A.groups};break}}}let R=await O._ENTRIES[`middleware_${_.name}`].default.call({},{request:{url:u.url,method:u.method,headers:i(u.headers),ip:l(u.headers,d.Ip),geo:{city:l(u.headers,d.City,!0),country:l(u.headers,d.Country,!0),latitude:l(u.headers,d.Latitude),longitude:l(u.headers,d.Longitude),region:l(u.headers,d.Region,!0)},nextConfig:_.nextConfig,page:P,body:u.body}});return y.waitUntil(R.waitUntil),R.response}}function l(_,g,o=!1){let u=_.get(g)||void 0;return o&&u?decodeURIComponent(u):u}function m(_){return _==="/api"||_.startsWith("/api/")}var d;(function(_){_.City="x-vercel-ip-city",_.Country="x-vercel-ip-country",_.Ip="x-real-ip",_.Latitude="x-vercel-ip-latitude",_.Longitude="x-vercel-ip-longitude",_.Region="x-vercel-ip-country-region"})(d||(d={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/uploadImage/route",staticRoutes:[{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"}],dynamicRoutes:[{page:"/[lang]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlang:"nxtPlang"},namedRegex:"^/(?<nxtPlang>[^/]+?)(?:/)?$"},{page:"/[lang]/newPage",regex:"^/([^/]+?)/newPage(?:/)?$",routeKeys:{nxtPlang:"nxtPlang"},namedRegex:"^/(?<nxtPlang>[^/]+?)/newPage(?:/)?$"},{page:"/[lang]/playground",regex:"^/([^/]+?)/playground(?:/)?$",routeKeys:{nxtPlang:"nxtPlang"},namedRegex:"^/(?<nxtPlang>[^/]+?)/playground(?:/)?$"},{page:"/[lang]/privacy",regex:"^/([^/]+?)/privacy(?:/)?$",routeKeys:{nxtPlang:"nxtPlang"},namedRegex:"^/(?<nxtPlang>[^/]+?)/privacy(?:/)?$"},{page:"/[lang]/tos",regex:"^/([^/]+?)/tos(?:/)?$",routeKeys:{nxtPlang:"nxtPlang"},namedRegex:"^/(?<nxtPlang>[^/]+?)/tos(?:/)?$"}],nextConfig:{basePath:""}})))(f,f,f);export{Gn as default};
